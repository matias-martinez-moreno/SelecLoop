<!-- ===== PASO 2: CALIFICACIONES ===== -->
<!-- Segundo paso del asistente: Calificaciones del proceso -->
{% extends 'core/base.html' %}
{% load static %}

{% block title %}Crear Reseña - Paso 2{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- ===== HEADER ===== -->
            <div class="text-center mb-5">
                <h1 class="display-4 text-primary mb-3">
                    <i class="fas fa-star fa-bounce me-3"></i>
                    Crear Reseña
                </h1>
                <p class="lead text-muted">{{ step_title }}</p>
                <div class="progress mb-3" style="height: 8px;">
                    <div class="progress-bar bg-primary" role="progressbar" style="width: {{ progress }}%" aria-valuenow="{{ progress }}" aria-valuemin="0" aria-valuemax="100"></div>
                </div>
                <small class="text-muted">Paso {{ current_step }} de {{ total_steps }}</small>
            </div>

            <!-- ===== FORMULARIO ===== -->
            <div class="card shadow-lg">
                <div class="card-body p-5">
                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        {{ wizard.management_form }}

                        <!-- ===== COMUNICACIÓN Y DIFICULTAD ===== -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">
                                    <i class="fas fa-comments me-2"></i>
                                    Comunicación
                                </label>
                                <p class="text-muted small mb-2">¿Qué tan clara fue la comunicación durante el proceso?</p>
                                {{ form.communication_rating }}
                                {% if form.communication_rating.errors %}
                                    <div class="text-danger small mt-1">{{ form.communication_rating.errors.0 }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold">
                                    <i class="fas fa-brain me-2"></i>
                                    Dificultad
                                </label>
                                <p class="text-muted small mb-2">¿Qué tan desafiante fue el proceso de selección?</p>
                                {{ form.difficulty_rating }}
                                {% if form.difficulty_rating.errors %}
                                    <div class="text-danger small mt-1">{{ form.difficulty_rating.errors.0 }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- ===== TIEMPO DE RESPUESTA Y CALIFICACIÓN GENERAL ===== -->
                        <div class="row mb-4">
                            <div class="col-md-6">
                                <label class="form-label fw-bold">
                                    <i class="fas fa-clock me-2"></i>
                                    Tiempo de Respuesta
                                </label>
                                <p class="text-muted small mb-2">¿Qué tan rápido respondieron a tus consultas?</p>
                                {{ form.response_time_rating }}
                                {% if form.response_time_rating.errors %}
                                    <div class="text-danger small mt-1">{{ form.response_time_rating.errors.0 }}</div>
                                {% endif %}
                            </div>

                            <div class="col-md-6">
                                <label class="form-label fw-bold">
                                    <i class="fas fa-heart me-2"></i>
                                    Calificación General
                                </label>
                                <p class="text-muted small mb-2">¿Cuál es tu evaluación general de la experiencia?</p>
                                {{ form.overall_rating }}
                                {% if form.overall_rating.errors %}
                                    <div class="text-danger small mt-1">{{ form.overall_rating.errors.0 }}</div>
                                {% endif %}
                            </div>
                        </div>

                        <!-- ===== NAVEGACIÓN ===== -->
                        <div class="d-flex justify-content-between mt-5">
                            <button name="wizard_goto_step" type="submit" value="step1" class="btn btn-secondary">
                                <i class="fas fa-arrow-left me-2"></i>
                                Anterior
                            </button>
                            <button type="submit" class="btn btn-primary btn-lg">
                                Siguiente
                                <i class="fas fa-arrow-right ms-2"></i>
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}